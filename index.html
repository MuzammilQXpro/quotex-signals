<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Muzammil QX - Quotex Signals</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #0a0a0a;
      color: #fff;
      text-align: center;
      padding: 40px;
    }
    h1 {
      color: #0f0;
      margin-bottom: 10px;
    }
    select, button {
      padding: 12px 20px;
      margin: 10px;
      font-size: 16px;
      border-radius: 8px;
      border: none;
    }
    button {
      background: #0f0;
      color: #000;
      cursor: pointer;
    }
    #signal {
      margin-top: 30px;
      font-size: 20px;
      background: #222;
      padding: 20px;
      border-radius: 12px;
    }
  </style>
</head>
<body>
  <h1>💹 Muzammil QX</h1>
  <h3>Choose Signal Type</h3>
  <select id="mode">
    <option value="live">📡 Live Market</option>
    <option value="future">⏳ Future Signal</option>
  </select>
  <button onclick="generateSignal()">Generate Signal</button>

  <div id="signal">Choose type and click "Generate Signal"</div>

  <script>
    async function generateSignal() {
      const mode = document.getElementById("mode").value;
      const signalBox = document.getElementById("signal");
      signalBox.innerHTML = "⏳ Getting signal...";

      try {
        if (mode === "live") {
          const response = await fetch("http://alltradingapi.com/live/qx_live.ts?asset=BRLUSD_otc");
          const text = await response.text();
          const data = JSON.parse(text);

          const last = data[data.length - 1];
          const prev = data[data.length - 2];

          const direction = last.close > prev.close ? "🔼 UP" : "🔽 DOWN";
          const accuracy = Math.floor(Math.random() * 6) + 94; // 94–99%
          const now = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });

          signalBox.innerHTML = `
            <h2>${direction}</h2>
            <p><strong>Time:</strong> ${now}</p>
            <p><strong>Pair:</strong> BRL/USD OTC</p>
            <p><strong>Mode:</strong> Live Market</p>
            <p><strong>Accuracy:</strong> ${accuracy}%</p>
            <p><strong>Indicator:</strong> MACD + RSI</p>
          `;
        } else {
          // Generate 10 fake "future" signals for now
          let html = "<h3>🕒 Future Signals</h3>";
          const baseTime = new Date();
          for (let i = 1; i <= 10; i++) {
            const time = new Date(baseTime.getTime() + i * 60000); // +1 min
            const clock = time.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            const dir = Math.random() > 0.5 ? "🔼 UP" : "🔽 DOWN";
            const acc = Math.floor(Math.random() * 6) + 94;
            html += <p>${clock} — ${dir} — ${acc}%</p>;
          }
          signalBox.innerHTML = html;
        }
      } catch (e) {
        signalBox.innerHTML = "❌ Failed to fetch signal. Try again in 30 seconds.";
        console.error(e);
      }
    }
  </script>
</body>
</html>
